{% extends "base.html" %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/account.css') }}">

<div class="edit-header">
  <h1>Edit Category 1 Listing</h1>
  <a href="{{ url_for('account.account') }}" class="btn-back">‚Üê Back to My Account</a>
</div>

<div class="edit-card">
  <form method="post" class="edit-form">
    <div class="form-section">
      <h2 class="section-title">Basic Information</h2>
      
      <div class="form-group">
        <label class="form-label">Title:</label>
        <input type="text" name="title" class="form-input" 
               value="{{ listing.title }}" required>
      </div>

      <div class="form-group">
        <label class="form-label">Description:</label>
        <textarea name="description" class="form-textarea" rows="4">{{ listing.description or '' }}</textarea>
      </div>
    </div>

    <div class="form-section">
      <h2 class="section-title">Origin Details</h2>
      
      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Origin:</label>
          <input type="text" name="origin" class="form-input" 
                 value="{{ listing.origin }}" required>
        </div>
        <div class="form-group">
          <label class="form-label">Origin Airport Code:</label>
          <input type="text" name="origin_airport" class="form-input" 
                 value="{{ listing.origin_airport }}" required>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Origin Delivery Location:</label>
          <input type="text" name="origin_delivery_location" class="form-input" 
                 value="{{ listing.origin_delivery_location or '' }}">
        </div>
        <div class="form-group">
          <label class="form-label">Origin Postcode:</label>
          <input type="text" name="origin_delivery_postcode" class="form-input" 
                 value="{{ listing.origin_delivery_postcode or '' }}">
        </div>
      </div>
    </div>

    <div class="form-section">
      <h2 class="section-title">Destination Details</h2>
      
      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Destination:</label>
          <input type="text" name="destination" class="form-input" 
                 value="{{ listing.destination }}" required>
        </div>
        <div class="form-group">
          <label class="form-label">Destination Airport Code:</label>
          <input type="text" name="destination_airport" class="form-input" 
                 value="{{ listing.destination_airport }}" required>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Destination Delivery Location:</label>
          <input type="text" name="destination_delivery_location" class="form-input" 
                 value="{{ listing.destination_delivery_location or '' }}">
        </div>
        <div class="form-group">
          <label class="form-label">Destination Postcode:</label>
          <input type="text" name="destination_delivery_postcode" class="form-input" 
                 value="{{ listing.destination_delivery_postcode or '' }}">
        </div>
      </div>
    </div>

    <div class="form-section">
      <h2 class="section-title">Pricing & Schedule</h2>
      
      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Travel Date:</label>
          <input type="date" name="travel_date" class="form-input" 
                 value="{{ listing.travel_date }}" required>
        </div>
        <div class="form-group">
          <label class="form-label">Price ($):</label>
          <input type="number" name="price" class="form-input" 
                 value="{{ listing.price }}" step="0.01" min="0" required>
        </div>
        <div class="form-group">
          <label class="form-label">Discount (%):</label>
          <input type="number" name="discount_percent" class="form-input" 
                 value="{{ listing.discount_percent }}" step="0.01" min="0" max="100">
        </div>
      </div>

      <div class="form-group">
        <label class="form-label">Image URL:</label>
        <input type="url" name="image_url" class="form-input" 
               value="{{ listing.image_url or '' }}" placeholder="https://...">
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn-primary">Save Changes</button>
      <a href="{{ url_for('account.account') }}" class="btn-secondary">Cancel</a>
    </div>
  </form>
</div>

{% endblock %}